"use strict";(self.webpackChunktenantUI=self.webpackChunktenantUI||[]).push([[7741],{7741:(w,b,u)=>{u.r(b),u.d(b,{ukg_document_viewer_display:()=>p});var l=u(5861),o=u(337),n=u(4476),h=u(6191);u(267);const p=class{constructor(r){(0,o.r)(this,r),this.ukgCurrentPageChanged=(0,o.c)(this,"ukgCurrentPageChanged",7),this.ukgDropOnPage=(0,o.c)(this,"ukgDropOnPage",7),this.ukgElementAddedToPage=(0,o.c)(this,"ukgElementAddedToPage",7),this.ukgElementRemovedFromPage=(0,o.c)(this,"ukgElementRemovedFromPage",7),this.currentPage=0,this.currentZoom=0,this.snapping=!0,this.pages=[],this.id=(0,n.h)("pages"),this.mostRecentPageSelected=null,this.pagesEl=[],this.i18n={summary:(0,n.i)(n.j.get("_t"),"DOCUMENT_VIEWER.SUMMARY.message","Document summary"),content:(0,n.i)(n.j.get("_t"),"DOCUMENT_VIEWER.CONTENT.message","Document content"),page:(0,n.i)(n.j.get("_t"),"DOCUMENT_VIEWER.PAGE.message","Page"),description:(0,n.i)(n.j.get("_t"),"DOCUMENT_VIEWER.EXTENDED_DESCRIPTION.message","Extended description below")},this.setScrollFinished=()=>{this.currentPage=this.mostRecentPageSelected?this.mostRecentPageSelected:this.currentPage,this.ukgCurrentPageChanged.emit({current:this.currentPage}),this.mostRecentPageSelected=null},this.debounceScroll=(0,n.n)(this.setScrollFinished,100)}handleKeyDown(r){var e=this;return(0,l.Z)(function*(){if(r.target.closest(".ukg-document-viewer-thumbnail-button")){if([n.K.RIGHT,n.K.DOWN].includes(r.keyCode))return yield e.focusNext(),void r.preventDefault();if([n.K.LEFT,n.K.UP].includes(r.keyCode))return yield e.focusPrev(),void r.preventDefault()}})()}onSidebarOpened(){this.drawer.querySelector(".is-selected").focus()}dragHandler(r){r.target.closest(".ukg-document-viewer-display-page-layer")&&r.preventDefault()}dropHandler(r){const e=r.target.closest(".ukg-document-viewer-display-page-layer");if(!e)return;r.preventDefault();const{width:t,height:i}=e.viewBox.baseVal,s=this.pagesEl.findIndex(a=>a.contains(e));this.ukgDropOnPage.emit({originalEvent:r,pageIndex:s,pageNumber:s+1,x:r.offsetX/e.clientWidth*t,y:r.offsetY/e.clientHeight*i})}focusNext(){var r=this;return(0,l.Z)(function*(){r.changeThumbnailFocus("next")})()}focusPrev(){var r=this;return(0,l.Z)(function*(){r.changeThumbnailFocus("prev")})()}toggleSidebar(){var r=this;return(0,l.Z)(function*(){yield r.drawer.triggerDrawer()})()}goToPage(r){var e=this;return(0,l.Z)(function*(){const t=e.displayContainer.querySelector(`#${e.id}_${r}`);null!==t&&((0,h.a)(t),e.mostRecentPageSelected=r,e.debounceScroll(),t.parentElement.scrollTo({behavior:"smooth",top:t.offsetTop}))})()}changeZoom(r){var e=this;return(0,l.Z)(function*(){e.zoomLevels&&(e.currentZoom=e.zoomLevels[r])})()}addElementToPage(r,e=0,t=0,i=0,s,a){var c=this;return(0,l.Z)(function*(){var g,d;if(e<0||e>=c.pages.length)return;const v=c.pagesEl[e].querySelector("svg"),m=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");m.setAttribute("x",t.toString()),m.setAttribute("y",i.toString()),m.setAttribute("width",null!==(g=s?.toString())&&void 0!==g?g:"100%"),m.setAttribute("height",null!==(d=a?.toString())&&void 0!==d?d:"100%"),m.insertAdjacentElement("afterbegin",r),v.insertAdjacentElement("afterbegin",m),c.ukgElementAddedToPage.emit({el:r,pageIndex:e,pageNumber:e+1,x:t,y:i})})()}removeElement(r){var e=this;return(0,l.Z)(function*(){if(!e.el.contains(r))return;const t=r.closest("foreignObject"),{x:i,y:s}=t,a=e.pagesEl.findIndex(c=>c.contains(t));t.remove(),e.ukgElementRemovedFromPage.emit({el:r,pageIndex:a,pageNumber:a+1,x:i.baseVal.value,y:s.baseVal.value})})()}componentWillLoad(){this.currentZoom=this.zoomLevels?this.zoomLevels[2]:100}componentDidRender(){this.shouldBeSnapping()}changeThumbnailFocus(r){const e=Array.from(this.drawer.querySelectorAll(".ukg-document-viewer-thumbnail-button")),t=e.findIndex(s=>document.activeElement===s),i="next"===r?t+1:t-1;i<0||i>=e.length||(e[t].tabIndex=-1,e[i].tabIndex=0,e[i].focus())}resetTabIndexToSelected(r){const e=r.relatedTarget;if((0,h.i)(e),this.drawer.contains(e))return;const t=this.drawer.querySelector('.ukg-document-viewer-thumbnail-button[tabindex="0"]'),i=this.drawer.querySelector(".is-selected");t!==i&&(i.tabIndex=0,t.tabIndex=-1)}renderThumbnails(r){return r.map((e,t)=>(0,o.h)("li",{class:"ukg-document-viewer-thumbnail"},(0,o.h)("figure",{class:"ukg-document-viewer-thumbnail-fig"},(0,o.h)("button",{type:"button",onClick:()=>this.goToPage(t),tabindex:this.currentPage===t?0:-1,class:{"ukg-document-viewer-thumbnail-button":!0,"is-selected":this.currentPage===t}},(0,o.h)("img",{class:"ukg-document-viewer-thumbnail-img",src:e.uri,alt:`${this.i18n.page} ${t+1}`})),(0,o.h)("figcaption",{class:"ukg-document-viewer-thumbnail-caption"},(0,o.h)("span",null,this.i18n.page,"\xa0"),t+1))))}imageLoadHandler(r){const e=r.target;e.nextElementSibling.setAttribute("viewBox",`0 0 ${e.naturalWidth} ${e.naturalHeight}`)}renderPages(r){return r.map((e,t)=>{var i,s;const a=`${this.id}_${t}`;return(0,o.h)("li",{id:a,ref:c=>this.pagesEl[t]=c,key:a,class:{"ukg-document-viewer-display-page":!0,[`ukg-document-viewer-display-zoom_${this.currentZoom}`]:!0}},(0,o.h)("figure",{role:e.caption?"group":null},(0,o.h)("img",{key:`${a}_img`,src:e.uri,alt:e.alt||`${this.i18n.page} ${t}`&&e.caption?this.i18n.description:"",onLoad:c=>this.imageLoadHandler(c)}),(0,o.h)("svg",{key:`${a}_svg`,class:"ukg-document-viewer-display-page-layer",viewBox:`0 0 ${null!==(i=e.width)&&void 0!==i?i:0} ${null!==(s=e.height)&&void 0!==s?s:0}`}),e.caption&&(0,o.h)("figcaption",{innerHTML:e.caption})))})}shouldBeSnapping(){if(this.snap){const r=this.el.clientWidth,e=this.displayContainer.querySelector(".ukg-document-viewer-display-page");this.snapping=!(r<(e?e.clientWidth:0))}}onScrollingPages(r){const e=r.target;(0,h.a)(e);const t=e.querySelectorAll(".ukg-document-viewer-display-page");let i=e.clientHeight/2;0!==t.length&&(t.forEach((a,c)=>{(0,h.a)(a);const g=a.offsetTop-e.scrollTop,d=a.clientHeight;d<i&&(i=d),g>=0&&g<i&&this.currentPage!==c&&(this.currentPage=c,this.ukgCurrentPageChanged.emit({current:this.currentPage}))}),Math.ceil(e.scrollTop+e.clientHeight)>=e.scrollHeight&&null===this.mostRecentPageSelected&&(this.currentPage=t.length-1),this.debounceScroll())}render(){return(0,o.h)(o.a,{class:{"ukg-document-viewer-display-fullscreen":this.isFullViewport}},(0,o.h)("ukg-drawer-container",null,(0,o.h)("ukg-drawer",{ref:r=>this.drawer=r,class:"ukg-document-viewer-sidebar",position:"left","visual-state":"push",role:"toolbar","aria-orientation":"vertical","aria-label":this.i18n.summary},(0,o.h)("ol",{tabIndex:-1,onFocusout:r=>this.resetTabIndexToSelected(r),class:{"ukg-document-viewer-thumbnails":!0}},this.renderThumbnails(this.pages))),(0,o.h)("ol",{"aria-label":this.i18n.summary,slot:"base-main-content",ref:r=>this.displayContainer=r,onScroll:r=>this.onScrollingPages(r),tabIndex:0,class:{"ukg-document-viewer-display":!0,"ukg-document-viewer-display-snap":this.snap&&this.snapping}},this.renderPages(this.pages))))}get el(){return(0,o.g)(this)}};p.style='.ukg-color-brand.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-brand, #005151);--ukg-color-base-rgb:var(--ukg-color-brand-rgb, 0, 81, 81);--ukg-color-contrast:var(--ukg-color-brand-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-brand-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-brand-shade, #004747);--ukg-color-tint:var(--ukg-color-brand-tint, #1a6262)}.ukg-color-action.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-action, #0176B2);--ukg-color-base-rgb:var(--ukg-color-action-rgb, 1, 118, 178);--ukg-color-contrast:var(--ukg-color-action-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-action-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-action-shade, #01689d);--ukg-color-tint:var(--ukg-color-action-tint, #1a84ba)}.ukg-color-important.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-important, #DC0C22);--ukg-color-base-rgb:var(--ukg-color-important-rgb, 220, 12, 34);--ukg-color-contrast:var(--ukg-color-important-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-important-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-important-shade, #c20b1e);--ukg-color-tint:var(--ukg-color-important-tint, #e02438)}.ukg-color-medium.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-medium, #F5F5F5);--ukg-color-base-rgb:var(--ukg-color-medium-rgb, 245, 245, 245);--ukg-color-contrast:var(--ukg-color-medium-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-medium-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-medium-shade, #d8d8d8);--ukg-color-tint:var(--ukg-color-medium-tint, #f6f6f6)}.ukg-color-success.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-success, #008060);--ukg-color-base-rgb:var(--ukg-color-success-rgb, 0, 128, 96);--ukg-color-contrast:var(--ukg-color-success-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-success-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-success-shade, #007154);--ukg-color-tint:var(--ukg-color-success-tint, #1a8d70)}.ukg-color-warning.sc-ukg-document-viewer-display-h{--ukg-color-base:var(--ukg-color-warning, #CC7300);--ukg-color-base-rgb:var(--ukg-color-warning-rgb, 204, 115, 0);--ukg-color-contrast:var(--ukg-color-warning-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-warning-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-warning-shade, #b46500);--ukg-color-tint:var(--ukg-color-warning-tint, #d1811a)}*.sc-ukg-document-viewer-display::-webkit-scrollbar{width:16px;height:16px}*.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb{border:5px solid rgba(0, 0, 0, 0);background-clip:padding-box;border-radius:50em;background-color:rgba(0, 0, 0, 0.42)}*.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(0, 0, 0, 0.57)}*.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(0, 0, 0, 0.72)}*.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(0, 0, 0, 0.57)}*.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.42)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(0, 0, 0, 0.57)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(0, 0, 0, 0.57)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarDark.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.43)}*.ukg_sys_helper_scrollbarDark.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.43)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-document-viewer-display:hover::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(255, 255, 255, 0.73)}.sc-ukg-document-viewer-display-h{display:-ms-flexbox !important;display:flex !important;-ms-flex-direction:column;flex-direction:column;overflow:hidden !important}.sc-ukg-document-viewer-display-h .ukg-document-viewer-display.sc-ukg-document-viewer-display{overflow:auto;scrollbar-width:initial;-ms-overflow-style:initial}.sc-ukg-document-viewer-display-h .ukg-document-viewer-display.sc-ukg-document-viewer-display::-webkit-scrollbar{display:initial}.sc-ukg-document-viewer-display-h .ukg-document-viewer-sidebar.sc-ukg-document-viewer-display{max-width:8.875rem;border-right:1px solid var(--ukg_sys_color_divider_onLight, rgba(0, 0, 0, 0.15));background:-webkit-gradient(linear, left bottom, left top, from(var(--ukg_sys_color_surface_lightDarker, #F5F5F5)), to(var(--ukg_sys_color_surface_lightDarker, #F5F5F5))), var(--ukg_sys_color_surface_lightDarker, #F5F5F5);background:linear-gradient(0deg, var(--ukg_sys_color_surface_lightDarker, #F5F5F5) 0%, var(--ukg_sys_color_surface_lightDarker, #F5F5F5) 100%), var(--ukg_sys_color_surface_lightDarker, #F5F5F5);background-blend-mode:multiply}.ukg-document-viewer-display-fullscreen.sc-ukg-document-viewer-display-h .ukg-document-viewer-sidebar.sc-ukg-document-viewer-display{max-width:18.75rem}.ukg-document-viewer-thumbnails.sc-ukg-document-viewer-display{list-style:none;height:100%;margin:0;padding:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;overflow:auto}.ukg-document-viewer-thumbnail.sc-ukg-document-viewer-display{margin-top:1.5rem}.ukg-document-viewer-thumbnail-fig.sc-ukg-document-viewer-display{margin:0 auto}.ukg-document-viewer-thumbnail-button.sc-ukg-document-viewer-display{position:relative;display:block;border:0;padding:0;-webkit-box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.12), 0 0 2px 0 rgba(0, 0, 0, 0.15);box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.12), 0 0 2px 0 rgba(0, 0, 0, 0.15);margin-bottom:1rem}.ukg-document-viewer-thumbnail-button.sc-ukg-document-viewer-display:hover,.ukg-document-viewer-thumbnail-button.sc-ukg-document-viewer-display:active{-webkit-box-shadow:0 8px 18px 0 rgba(0, 0, 0, 0.08), 0 0 9px 0 rgba(0, 0, 0, 0.1);box-shadow:0 8px 18px 0 rgba(0, 0, 0, 0.08), 0 0 9px 0 rgba(0, 0, 0, 0.1)}.ukg-document-viewer-thumbnail-button.is-selected.sc-ukg-document-viewer-display{outline:0.25rem solid var(--ukg_sys_color_fieldBorder_onLight, rgba(0, 0, 0, 0.42))}.ukg-document-viewer-thumbnail-button.sc-ukg-document-viewer-display:focus:not(.is-selected){outline:0}.ukg-document-viewer-thumbnail-button.focus-visible.sc-ukg-document-viewer-display{outline:none}.ukg-document-viewer-thumbnail-button.focus-visible.sc-ukg-document-viewer-display::before{content:"";position:absolute;top:0.125rem;right:0.125rem;bottom:0.125rem;left:0.125rem;border:3px solid var(--ukg_sys_color_focusBorder_onLight, #3C96C3);border-radius:4px}.ukg-document-viewer-thumbnail-img.sc-ukg-document-viewer-display{max-width:6.25rem;display:block}.ukg-document-viewer-thumbnail-caption.sc-ukg-document-viewer-display{font-size:0.875rem;margin:0;text-align:center;line-height:1}.ukg-document-viewer-thumbnail-caption.sc-ukg-document-viewer-display span.sc-ukg-document-viewer-display{overflow:hidden !important;clip-path:inset(50%) !important;white-space:nowrap !important;-webkit-clip-path:inset(50%) !important;width:1px !important;height:1px !important;position:absolute !important;border:0 !important;margin:-1px !important;clip:rect(1px, 1px, 1px, 1px) !important;padding:0 !important}.ukg-document-viewer-display.sc-ukg-document-viewer-display{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;padding:calc(1.5rem - 0.25rem);margin:0;list-style:none;border:0.25rem solid transparent;border-radius:4px}.ukg-document-viewer-display.sc-ukg-document-viewer-display:focus{border-color:transparent}.ukg-document-viewer-display.focus-visible.sc-ukg-document-viewer-display{outline:none;border-color:var(--ukg_sys_color_focusBorder_onLight, #3C96C3)}.ukg-document-viewer-display-snap.sc-ukg-document-viewer-display{-webkit-scroll-snap-type:y proximity;-ms-scroll-snap-type:y proximity;scroll-snap-type:y proximity;scroll-padding:0.75rem}.ukg-document-viewer-display-page.sc-ukg-document-viewer-display{margin-bottom:0.75rem;-webkit-box-shadow:0 3px 8px 0 rgba(0, 0, 0, 0.1), 0 0 4px 0 rgba(0, 0, 0, 0.13);box-shadow:0 3px 8px 0 rgba(0, 0, 0, 0.1), 0 0 4px 0 rgba(0, 0, 0, 0.13);background-color:var(--ukg_sys_color_surface_light, #FFFFFF);scroll-snap-align:start;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}.ukg-document-viewer-display-page.sc-ukg-document-viewer-display figure.sc-ukg-document-viewer-display{position:relative;margin:0}.ukg-document-viewer-display-page.sc-ukg-document-viewer-display img.sc-ukg-document-viewer-display{display:block;width:100%}.ukg-document-viewer-display-page.sc-ukg-document-viewer-display svg.sc-ukg-document-viewer-display{position:absolute;inset:0}.ukg-document-viewer-display-page.sc-ukg-document-viewer-display figcaption.sc-ukg-document-viewer-display{overflow:hidden !important;clip-path:inset(50%) !important;white-space:nowrap !important;-webkit-clip-path:inset(50%) !important;width:1px !important;height:1px !important;position:absolute !important;border:0 !important;margin:-1px !important;clip:rect(1px, 1px, 1px, 1px) !important;padding:0 !important}.ukg-document-viewer-display-zoom_50.sc-ukg-document-viewer-display{max-width:50%}.ukg-document-viewer-display-zoom_75.sc-ukg-document-viewer-display{max-width:75%}.ukg-document-viewer-display-zoom_100.sc-ukg-document-viewer-display{width:100%}.ukg-document-viewer-display-zoom_125.sc-ukg-document-viewer-display{width:125%}.ukg-document-viewer-display-zoom_175.sc-ukg-document-viewer-display{width:175%}.ukg-document-viewer-display-zoom_200.sc-ukg-document-viewer-display{width:200%}'}}]);