"use strict";(self.webpackChunktenantUI=self.webpackChunktenantUI||[]).push([[5057],{5057:(k,h,a)=>{a.r(h),a.d(h,{ukg_chip_input:()=>g});var p=a(5861),r=a(337),l=a(4476);a(267);const g=class{constructor(i){(0,r.r)(this,i),this.ukgOnDismiss=(0,r.c)(this,"ukgOnDismiss",7),this.ukgOnBlur=(0,r.c)(this,"ukgOnBlur",7),this.ukgChipAdded=(0,r.c)(this,"ukgChipAdded",7),this.ukgChipRemoved=(0,r.c)(this,"ukgChipRemoved",7),this.chipIDs=new Set,this.inputId=`${(0,l.h)("chip-input")}-input`,this.autocompletePresented=!1,this.mq=window.matchMedia(`(min-width: ${l.G.XS}px)`),this.disabled=!1,this.maxNumberOfChips=!1,this.error=!1,this.required=!1,this.chips=[],this.filter=!1,this.addChipTrigger="Enter",this.variant="input",this.options=[],this.isMobile=!1}onOptionsChange(){"combobox"===this.variant&&this.setAutocompleteInitialResults()}onWindowResize(i){this.isMobile=!i.matches}onDidDismiss(i,t){i.stopPropagation(),this.ukgOnDismiss.emit({originalEvent:i,chip:t})}dismissHandler(i){i.dismissHandler&&i.dismissHandler(),this.removeAndFocus(i)}handleKeyDownOnChip(i,t){"Backspace"===i.key?this.removeAndFocus(t):"ArrowRight"===i.key?this.focusOnNextChip(t):"ArrowLeft"===i.key&&this.focusOnPreviousChip(t)}removeAndFocus(i){if(this.isLastChip(i))this.removeChip(i),this.focusOnLastChip();else{const t=this.removeChip(i);this.focusOnChip(t)}}handleKeyDownOnInput(i){var t=this;return(0,p.Z)(function*(){var s;const e=i.key,o=i.target,u=o.value;if(e===t.addChipTrigger||"Enter"===e){if(i.preventDefault(),u){let c;if("combobox"===t.variant){const n=t.options.find(d=>d.value===u);n&&(c=Object.assign(Object.assign({},n),{id:null!==(s=n.id)&&void 0!==s?s:(0,l.h)("chip"),isDismissible:!0}),n.hidden=!0)}c||(c={label:u,id:(0,l.h)("chip"),isDismissible:!0}),t.customAddChip&&(c=t.customAddChip(c)),t.addChip(c),o.value="","combobox"===t.variant&&(t.autocomplete.showSearchResults=!1,t.autocomplete.dismiss())}}else if("Backspace"===e)u||t.focusOnLastChip();else if("ArrowLeft"===e){const c=yield t.input.getSelectionStart();t.chips.length>0&&0===c&&t.focusOnLastChip()}else["Tab","Shift","ArrowRight","ArrowUp"].includes(e)||"combobox"===t.variant&&(t.autocompletePresented||t.autocomplete.present())})()}handleKeyDownSelectInput(i){var t=this;return(0,p.Z)(function*(){const s=i.key;"ArrowRight"===s?t.focusOnChip(0):"ArrowLeft"===s&&t.focusOnLastChip()})()}handleSelect(i){const t=i.detail.value;this.options.forEach(s=>{var e;t.includes(s.id)?this.chipIDs.has(s.id)||this.addChip(s):this.chipIDs.has(s.id)&&(null===(e=s.isDismissible)||void 0===e||e)&&this.removeChip(s)})}removeChip(i){var t;if(null!==(t=i.isDismissible)&&void 0!==t&&!t)return-1;"combobox"===this.variant&&this.setAutocompleteInitialResults();const s=this.chips.find(o=>o.id===i.id),e=this.chips.findIndex(o=>o===s);if(this.chips=this.chips.filter(o=>o!==s),"combobox"===this.variant){const o=this.options.find(u=>u.value===s.value);o&&(o.hidden=!1)}return this.chipIDs.delete(i.id),this.ukgChipRemoved.emit({chip:i,overMaxChips:this.maxNumberOfChips&&this.chips.length>this.maxNumberOfChips}),e}addChip(i){this.chips=[...this.chips,i],this.chipIDs.add(i.id),this.ukgChipAdded.emit({chip:i,overMaxChips:this.maxNumberOfChips&&this.chips.length>this.maxNumberOfChips})}focusOnLastChip(){var i,t,s,e;const o=this.getLastChip();o?(o.setFocus(),null===(i=this.input)||void 0===i||i.removeFocus(),null===(t=this.selectInput)||void 0===t||t.blur()):(null===(s=this.input)||void 0===s||s.setFocus(),null===(e=this.selectInput)||void 0===e||e.focus())}focusOnNextChip(i){var t,s;const e=this.chips.findIndex(o=>o.id===i.id);e+1>=this.chips.length?(null===(t=this.input)||void 0===t||t.setFocus(),null===(s=this.selectInput)||void 0===s||s.focus()):this.chipGroupEl.querySelector(`#${this.chips[e+1].id}`).setFocus()}focusOnPreviousChip(i){const t=this.chips.findIndex(s=>s.id===i.id);t-1>=0&&this.chipGroupEl.querySelector(`#${this.chips[t-1].id}`).setFocus()}focusOnChip(i){if(i>this.chips.length-1||i<0)return;const t=this.chips[i].id;t&&setTimeout(()=>{document.getElementById(t)?.setFocus()})}getLastChip(){return this.chips.length>0?document.getElementById(`${this.chips[this.chips.length-1].id}`):null}isLastChip(i){return 0!==this.chips.length&&this.chips[this.chips.length-1].id===i.id}setAutocompleteInitialResults(){const i=[...this.options.sort((t,s)=>t.label>s.label?1:-1)];this.autocomplete&&(this.autocomplete.initialResults=i.map(t=>Object.assign(Object.assign({},t),{inputId:this.inputId})))}filterAutocompleteResults(i){i.detail.value?(this.autocomplete.searchResults=[...this.options.sort((t,s)=>t.label>s.label?1:-1)].filter(t=>t.label.toLowerCase().includes(i.detail.value.toLowerCase())).map(t=>Object.assign(Object.assign({},t),{highlight:t.label.toLowerCase().match(i.detail.value.toLowerCase()).toString(),inputId:this.inputId})),this.autocomplete.showSearchResults=!0):this.autocomplete.showSearchResults=!1}onAutocompleteSelect(i){var t,s;this.input.value="";const e=this.options.find(o=>o.value===i.detail.value);e.hidden=!0,this.addChip(Object.assign(Object.assign({},e),{id:null!==(t=e.id)&&void 0!==t?t:(0,l.h)("chip"),isDismissible:null===(s=e.isDismissible)||void 0===s||s})),this.autocomplete.showSearchResults=!1}onUkgChange(i){"combobox"===this.variant&&this.filterAutocompleteResults(i)}onAutocompletePresented(){this.autocompletePresented=!0,this.input.setAttribute("aria-expanded",this.autocompletePresented.toString())}onAutocompleteWillDismiss(){this.autocompletePresented=!1,this.input.setAttribute("aria-expanded",this.autocompletePresented.toString())}componentWillRender(){var i;const t=null===(i=this.el.closest("ukg-input-container"))||void 0===i?void 0:i.querySelector("ukg-label");if(this.hasLabel=!!t&&!t.getAttribute("slot"),"select"===this.variant){const s=this.options.map(e=>e.id);this.chips=this.chips.filter(e=>!!s.includes(e.id)&&(this.chipIDs.add(e.id),!0))}}componentWillLoad(){this.onWindowResize(this.mq),this.mq.onchange=i=>this.onWindowResize(i),"combobox"===this.variant&&this.chips.forEach(i=>{this.chipIDs.add(i.id)})}renderChips(){return this.chips.map((i,t)=>{var s;return(0,r.h)("ukg-chip",{key:i.id+t,"is-dismissible":null===(s=i.isDismissible)||void 0===s||s,avatarProps:i.avatarProps,avatarSrc:i.avatarSrc,disabled:i.disabled||this.disabled,dismissAriaLabel:i.dismissAriaLabel,dismissAttribute:i.dismissAttribute,error:i.error,icon:i.icon,isDraggable:i.isDraggable,nonActionable:i.nonActionable,selected:i.selected,value:i.value,role:"listitem",id:i.id,onUkgOnDismiss:e=>{this.onDidDismiss(e,i)},dismissHandler:()=>this.dismissHandler(i),onKeyDown:e=>this.handleKeyDownOnChip(e,i),onClick:e=>{e.stopPropagation(),i.onClick&&i.onClick(e)},tabindex:-1},i.label)})}renderInput(){return(0,r.h)("ukg-input",{id:this.inputId,error:this.error,disabled:this.disabled,required:this.required,smallFont:!this.isMobile,role:"combobox"===this.variant?"combobox":"listitem","aria-expanded":"combobox"===this.variant?this.autocompletePresented.toString():null,"aria-haspopup":"combobox"===this.variant?"dialog":null,onKeyDown:i=>this.handleKeyDownOnInput(i),onUkgBlur:()=>{this.ukgOnBlur.emit()},ref:i=>this.input=i})}renderCombobox(){const i=this.el.closest("ukg-input-container");return(0,r.h)("ukg-autocomplete",{onUkgAutocompleteLoad:()=>{this.setAutocompleteInitialResults()},onUkgSelect:t=>{this.onAutocompleteSelect(t)},triggerElement:i,focusableId:this.inputId,ref:t=>this.autocomplete=t,noResultsLabel:"No options found.",scrollingElement:"body",manuallyPresent:!0},this.renderInput())}renderSelect(){return(0,r.h)("ukg-select",{multiple:!0,filter:this.filter,disabled:this.disabled,required:this.required,searchPlaceholder:this.searchPlaceholder,selectState:this.error?"error":"secondary",isChipInput:!0,class:"chip-input-select",onKeyDown:i=>this.handleKeyDownSelectInput(i),onUkgChange:i=>this.handleSelect(i),ref:i=>this.selectInput=i},this.options.map(i=>{var t;return(0,r.h)("ukg-select-option",{value:i.id,label:i.label,selected:this.chipIDs.has(i.id),disabled:this.chipIDs.has(i.id)&&!(null===(t=i.isDismissible)||void 0===t||t)})}))}render(){return(0,r.h)(r.a,{class:{[`ukg-chip-input-${this.variant}`]:!0,"ukg-has-label":this.hasLabel}},(0,r.h)("ukg-chip-group",{ref:i=>this.chipGroupEl=i,class:{"ukg-has-chips":this.chips.length>0,"ukg-chip-input-has-label":this.hasLabel}},this.renderChips(),"input"===this.variant&&this.renderInput(),"combobox"===this.variant&&this.renderCombobox(),"select"===this.variant&&this.renderSelect()))}get el(){return(0,r.g)(this)}static get watchers(){return{options:["onOptionsChange"]}}};g.style=".ukg-color-brand.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-brand, #005151);--ukg-color-base-rgb:var(--ukg-color-brand-rgb, 0, 81, 81);--ukg-color-contrast:var(--ukg-color-brand-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-brand-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-brand-shade, #004747);--ukg-color-tint:var(--ukg-color-brand-tint, #1a6262)}.ukg-color-action.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-action, #0176B2);--ukg-color-base-rgb:var(--ukg-color-action-rgb, 1, 118, 178);--ukg-color-contrast:var(--ukg-color-action-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-action-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-action-shade, #01689d);--ukg-color-tint:var(--ukg-color-action-tint, #1a84ba)}.ukg-color-important.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-important, #DC0C22);--ukg-color-base-rgb:var(--ukg-color-important-rgb, 220, 12, 34);--ukg-color-contrast:var(--ukg-color-important-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-important-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-important-shade, #c20b1e);--ukg-color-tint:var(--ukg-color-important-tint, #e02438)}.ukg-color-medium.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-medium, #F5F5F5);--ukg-color-base-rgb:var(--ukg-color-medium-rgb, 245, 245, 245);--ukg-color-contrast:var(--ukg-color-medium-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-medium-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-medium-shade, #d8d8d8);--ukg-color-tint:var(--ukg-color-medium-tint, #f6f6f6)}.ukg-color-success.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-success, #008060);--ukg-color-base-rgb:var(--ukg-color-success-rgb, 0, 128, 96);--ukg-color-contrast:var(--ukg-color-success-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-success-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-success-shade, #007154);--ukg-color-tint:var(--ukg-color-success-tint, #1a8d70)}.ukg-color-warning.sc-ukg-chip-input-h{--ukg-color-base:var(--ukg-color-warning, #CC7300);--ukg-color-base-rgb:var(--ukg-color-warning-rgb, 204, 115, 0);--ukg-color-contrast:var(--ukg-color-warning-contrast, #fff);--ukg-color-contrast-rgb:var(--ukg-color-warning-contrast-rgb, 255, 255, 255);--ukg-color-shade:var(--ukg-color-warning-shade, #b46500);--ukg-color-tint:var(--ukg-color-warning-tint, #d1811a)}*.sc-ukg-chip-input::-webkit-scrollbar{width:16px;height:16px}*.sc-ukg-chip-input::-webkit-scrollbar-thumb{border:5px solid rgba(0, 0, 0, 0);background-clip:padding-box;border-radius:50em;background-color:rgba(0, 0, 0, 0.42)}*.sc-ukg-chip-input::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(0, 0, 0, 0.57)}*.sc-ukg-chip-input::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(0, 0, 0, 0.72)}*.sc-ukg-chip-input::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(0, 0, 0, 0.57)}*.sc-ukg-chip-input::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.42)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(0, 0, 0, 0.57)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(0, 0, 0, 0.57)}*.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(0, 0, 0, 0.72)}*.ukg_sys_helper_scrollbarDark.sc-ukg-chip-input::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.43)}*.ukg_sys_helper_scrollbarDark.sc-ukg-chip-input::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.sc-ukg-chip-input::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.sc-ukg-chip-input::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.sc-ukg-chip-input::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb{background-color:rgba(255, 255, 255, 0.43)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:vertical:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:vertical:active{background-color:rgba(255, 255, 255, 0.73)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(255, 255, 255, 0.58)}*.ukg_sys_helper_scrollbarDark.ukg_sys_helper_scrollbarShowOnHover.sc-ukg-chip-input:hover::-webkit-scrollbar-thumb:horizontal:active{background-color:rgba(255, 255, 255, 0.73)}.sc-ukg-chip-input-h{display:block}.sc-ukg-chip-input-h ukg-input.sc-ukg-chip-input{margin-bottom:0.3125rem;margin-top:0.4375rem}.sc-ukg-chip-input-h ukg-chip-group.ukg-has-chips.sc-ukg-chip-input ukg-input.sc-ukg-chip-input{margin-top:0.25rem;margin-bottom:0.25rem}.sc-ukg-chip-input-h ukg-chip-group.sc-ukg-chip-input{--ukg-chip-gap:0.5rem}.sc-ukg-chip-input-h ukg-chip-group.sc-ukg-chip-input ukg-chip.sc-ukg-chip-input{margin:0;max-width:100%}.sc-ukg-chip-input-h ukg-chip-group.ukg-has-chips.ukg-chip-input-has-label.sc-ukg-chip-input{padding-top:0.25rem}.ukg-chip-input-select.sc-ukg-chip-input-h{min-height:2rem}.ukg-chip-input-select.sc-ukg-chip-input-h ukg-chip-group.ukg-chip-input-has-label.sc-ukg-chip-input{-webkit-box-sizing:border-box;box-sizing:border-box;min-height:2.25rem}.ukg-chip-input-select.sc-ukg-chip-input-h .chip-input-select.sc-ukg-chip-input{position:absolute;height:0;overflow:hidden}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-chip-group.sc-ukg-chip-input{-ms-flex-positive:1;flex-grow:1}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-input.sc-ukg-chip-input{margin-top:0.5625rem;margin-bottom:0.125rem}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-chip-group.ukg-has-chips.sc-ukg-chip-input ukg-input.sc-ukg-chip-input{margin-top:0.25rem;margin-bottom:0.25rem}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-icon.sc-ukg-chip-input{margin-top:0.25rem}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-icon.ukg-icon-with-label.sc-ukg-chip-input{margin-top:0}.ukg-chip-input-combobox.sc-ukg-chip-input-h ukg-autocomplete.sc-ukg-chip-input{-ms-flex-positive:1;flex-grow:1}"}}]);